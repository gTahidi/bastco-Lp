---
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props as Props;
const { title, description, pubDate, author = 'BastCo Team' } = post.data;
const formattedDate = new Date(pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="group relative overflow-hidden rounded-[2.5rem] border border-bs-surface-3/70 bg-gradient-to-br from-bs-surface-0/85 via-bs-surface-1/80 to-bs-surface-0/70 p-10 transition duration-300 hover:border-bs-secondary/70 hover:shadow-[0_40px_90px_rgba(0,174,239,0.2)]">
  <div class="absolute inset-0 -z-10 bg-[radial-gradient(120%_120%_at_15%_-40%,rgba(0,174,239,0.25),transparent)]"></div>
  <div class="flex flex-col gap-6">
    <p class="text-xs font-semibold uppercase tracking-[0.45em] text-bs-secondary/80">
      {formattedDate}
    </p>
    <h2 class="bs-h2 text-bs-foreground-light max-w-3xl">{title}</h2>
    <p class="text-base text-bs-foreground-dark max-w-2xl">{description}</p>
    <div class="flex flex-wrap items-center gap-4 text-sm font-semibold text-bs-secondary">
      <span>{author}</span>
      <span aria-hidden="true" class="text-bs-foreground-dark/50">•</span>
      <span class="inline-flex items-center gap-2 uppercase tracking-[0.3em] text-xs text-bs-secondary/80">
        Featured
      </span>
    </div>
    <div class="pt-4">
      <span class="inline-flex items-center gap-2 rounded-full border border-bs-secondary/40 px-6 py-3 text-sm font-semibold text-bs-secondary transition duration-300 group-hover:border-bs-secondary group-hover:text-bs-foreground-light group-hover:bg-bs-secondary/20">
        Read the article
        <span aria-hidden="true" class="transition-transform duration-300 group-hover:translate-x-1">→</span>
      </span>
    </div>
  </div>

  <a href={`/blog/${post.slug}/`} class="absolute inset-0" aria-label={`Read ${title}`}></a>
</article>
