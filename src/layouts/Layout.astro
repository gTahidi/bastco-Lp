---
import '../assets/css/global.css';
import '../assets/css/base.css';
import '../assets/css/typography.css';
import '../assets/css/layout.css';
import '../assets/css/buttons.css';

import { Font } from 'astro:assets';

import global_settings from '../data/global_settings.json';

import FooterMain from '../components/FooterMain.astro';
import HeaderMain from '../components/HeaderMain.astro';

interface LayoutProps {
  title?: string;
  description?: string;
  hideFooter?: boolean;
}

const { title, description, hideFooter = false } = Astro.props as LayoutProps;

---

<html lang="en">

  <head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <title>{title ?? global_settings.title}</title>

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <meta name="description" content={description ?? global_settings.description} />
    <meta name="theme-color" content={global_settings.theme_color} />

    <meta property="og:title" content={title ?? global_settings.title} />
    <meta property="og:description" content={description ?? global_settings.description} />

    <Font cssVariable="--font-inter" preload />
    <Font cssVariable="--font-inter-display" preload />

  </head>

  <body id="top">

    <!-- Skip link -->
    <a class="fixed -top-20 focus-visible:top-0 p-3 bg-black/90 transition-all duration-300 z-50" href="#main">Skip to content</a>

    <!-- Header -->
    <HeaderMain settings={ global_settings } />

    <!-- Main slot -->
    <main id="main">
      <slot />
    </main>

    <!-- Footer -->
    {!hideFooter && <FooterMain settings={global_settings} />}

  </body>
</html>
